{% extends "stu_dash/base.html" %}

{% block add_css %}
<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap-extended.min.css">
<link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/fonts/simple-line-icons/style.min.css">
<link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/colors.min.css">
<link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap.min.css">
<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    .user-select-none {
        user-select: none;
      }
      a {
        text-decoration: none;
        color: unset;
      }
      
      .review-star {
        color: #fdcc0d;
        font-size: 13px;
      }
      /* ===========
      Product Single Card - Start
      ============= */
      .product-single-card {
        padding: 20px;
        border-radius: 5px;
        box-shadow: 1px 1px 15px #cccccc40;
        transition: 0.5s ease-in;
        /* background-color: red; */
      }
      
      .product-single-card:hover {
        -webkit-box-shadow: 1px 1px 28.5px -7px #d6d6d6;
        -moz-box-shadow: 1px 1px 28.5px -7px #d6d6d6;
        box-shadow: 1px 1px 28.5px -7px #d6d6d6;
      }
      
      .product-single-card .product-info {
        padding: 15px 0 0 0;
      }
      
      .product-single-card .product-top-area {
        position: relative;
        display: flex;
        align-items: center;
        overflow: hidden;
        border-radius: 5px;
      }
      
      .product-single-card .product-top-area .product-discount {
        position: absolute;
        top: 10px;
        left: 10px;
        background: white;
        border-radius: 3px;
        padding: 5px 10px;
        box-shadow: 1px 1px 28.5px -7px #dddddd;
        user-select: none;
        z-index: 999;
      }
      
      .product-single-card .product-top-area .product-img {
        aspect-ratio: 1/1;
        overflow: hidden;
      }
      
      .product-single-card .product-top-area .product-img .first-view {
        transition: 0.5s ease-in;
      }
      
      .product-single-card .product-top-area .product-img .hover-view {
        opacity: 0;
        transition: 0.5s ease-in;
      }
      
      .product-single-card .product-top-area:hover .product-img .first-view {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .product-single-card .product-top-area:hover .product-img .hover-view {
        opacity: 100%;
        scale: 1.2;
      }
      
      .product-single-card .product-top-area .sideicons {
        position: absolute;
        right: 15px;
        display: grid;
        gap: 10px;
      }
      
      .product-single-card .product-top-area .sideicons .sideicons-btn {
        background-color: #fff;
        color: #000;
        border-radius: 50%;
        border: none;
        width: 35px;
        height: 35px;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        visibility: hidden;
        transform: translateX(60px);
        transition: 0.3s ease-in;
        -webkit-box-shadow: 1px 1px 28.5px -7px #dddddd;
        -moz-box-shadow: 1px 1px 28.5px -7px #dddddd;
        box-shadow: 1px 1px 28.5px -7px #dddddd;
      }
      
      .product-single-card .product-top-area .sideicons .sideicons-btn:hover {
        color: #fff;
        background-color: #000;
      }
      
      .product-single-card .product-top-area .sideicons .sideicons-btn:nth-child(1) {
        transition-delay: 100ms;
      }
      
      .product-single-card .product-top-area .sideicons .sideicons-btn:nth-child(2) {
        transition-delay: 200ms;
      }
      
      .product-single-card .product-top-area .sideicons .sideicons-btn:nth-child(3) {
        transition-delay: 300ms;
      }
      
      .product-single-card .product-top-area .sideicons .sideicons-btn:nth-child(4) {
        transition-delay: 400ms;
      }
      
      .product-single-card .product-top-area:hover .sideicons .sideicons-btn {
        opacity: 100%;
        visibility: visible;
        transform: translateX(0);
      }
      
      .product-single-card .product-info .product-category {
        font-weight: 600;
        opacity: 60%;
      }
      
      .product-single-card .product-info .product-title {
        font-size: 16px;
        font-weight: 600;
      }
      
      .product-single-card .product-info .old-price,
      .product-single-card .product-info .new-price {
        padding-right: 15px;
        font-size: 18px;
        font-weight: 600;
        letter-spacing: 1px;
      }
      .product-single-card .product-info .old-price {
        text-decoration: line-through;
        opacity: 70%;
      }
      /* ===========
      Product Single Card - End
      ============= */
      .highlight {
        background-color: yellow;
        font-weight: bold;
      }
      .show-more,
      .show-less { 
        color: blue;
      }

      .show-more:hover,
      .show-less:hover {
        color: #0056b3; /* Darker shade of blue on hover */
      }

      .more-text {
        display: none;
      }
      .purchase-btn {
        display: block;
        margin-top: 10px;
        padding: 5px 10px;
        font-size: 14px;
        color: white;
        background-color: #007bff; /* Blue color */
        border: none;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
      }
    
      .purchase-btn:hover {
        background-color: #0056b3; /* Darker shade of blue on hover */
      }
</style>
{% endblock %}
    
{% block content %}


<div class="grey-bg container-fluid">
  <section id="minimal-statistics">
    <div class="container">
        <div class="row">
            <div class="col-md-6">  
            </div>
            <div class="col-md-6">
                    <input type="text" id="searchInput" placeholder="Search keywords" class="au-input au-input--xl" type="text" />
            </div>
        </div>
      <div class="row g-4 py-5" id="cardContainer">
        {% for i in all_course %}
        <div class="col-md-4">
          <div class="product-single-card">
            <div class="product-top-area">
              <div class="product-discount">
                Rs:- {{i.price}}
              </div>
  
              <div class="product-img">
                <div class="first-view">
                  <img src="./assets/img/placeholder/dummy2.png" alt="logo" class="img-fluid" onerror="this.src='https://i.ibb.co/qpB9ZCZ/placeholder.png'">
                </div>
                <div class="hover-view">
                  <img src="./assets/img/placeholder/dummy.jpg" alt="logo" class="img-fluid" onerror="this.src='https://i.ibb.co/qpB9ZCZ/placeholder.png'">
                </div>
              </div>
              <div class="sideicons">
                <button class="sideicons-btn">
                  <i class="fa-solid fa-cart-plus"></i>
                </button>
                <button class="sideicons-btn">
                  <i class="fa-solid fa-eye"></i>
                </button>
                <button class="sideicons-btn">
                  <i class="fa-solid fa-heart"></i>
                </button>
                <button class="sideicons-btn">
                  <i class="fa-solid fa-shuffle"></i>
                </button>
              </div>
            </div>
            <div class="product-info">
              <h6 class="product-category cardbox"><a href="#">{{i.name}}</a></h6>
              <p>
                {% if i.description|wordcount <= 10 %}
                  {{ i.description }}
                {% else %}
                  {{ i.description|slice:"30" }}...
                  <span class="more-text" style="display: none;">{{ i.description|slice:"31:" }}</span>
                  <a href="#" class="show-more">Show more</a>
                {% endif %}
              </p>
              <div class="d-flex align-items-center">
                <div class="review-star me-1">
                  <i class="fa-solid fa-star"></i>
                  <i class="fa-solid fa-star"></i>
                  <i class="fa-solid fa-star"></i>
                  <i class="fa-regular fa-star-half-stroke"></i>
                  <i class="fa-regular fa-star"></i>
                </div>
  
                <span class="review-count">(10)</span>
              </div>

              <div class="d-flex flex-wrap align-items-center py-2">
                <div class="old-price">
                  Rs:-{{i.price}}
                </div>
                <div class="new-price">
                  Rs:-{{i.price}}
                </div>
              </div>
              <a href="#" class="purchase-btn">Purchase</a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div> 
  </section>
</div>
{% endblock %}

{% block add_js %}
<script>
  $(document).ready(function() {
    $(".show-more").click(function(event) {
      event.preventDefault();
      $(this).prev(".more-text").toggle();
      $(this).text(function(_, text) {
        return text === "Show more" ? "Show less" : "Show more";
      });
    });
  });
</script>
<script>
  $(document).ready(function() {
    $("#searchInput").on("keyup", function() {
      var searchText = $(this).val().toLowerCase();
      $(".product-info p").each(function() {
        var text = $(this).text().toLowerCase();
        var matchIndex = text.indexOf(searchText);
        if (matchIndex !== -1) {
          // Wrap the matched text in a span with a class for highlighting
          var highlightedText = text.substring(0, matchIndex) + "<span class='highlight'>" + text.substr(matchIndex, searchText.length) + "</span>" + text.substring(matchIndex + searchText.length);
          $(this).html(highlightedText);
          $(this).parent().parent().parent().show(); // Show the card if there's a match
        } else {
          $(this).parent().parent().parent().hide(); // Hide the card if no match
        }
      });
    });
  });
</script>
{% endblock %}
  